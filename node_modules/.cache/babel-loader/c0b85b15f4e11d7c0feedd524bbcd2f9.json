{"ast":null,"code":"import _defineProperty from\"/home/mb4718/Desktop/sgamble/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/mb4718/Desktop/sgamble/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/mb4718/Desktop/sgamble/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";function loadAllModeValues(modeName){var storedModeValues=localStorage.getItem(modeName);return storedModeValues!=null?JSON.parse(storedModeValues):{};}export function useMode(modeName,dayString,defaultValue){var _loadAllModeValues$da;var _useState=useState((_loadAllModeValues$da=loadAllModeValues(modeName)[dayString])!==null&&_loadAllModeValues$da!==void 0?_loadAllModeValues$da:defaultValue),_useState2=_slicedToArray(_useState,2),modeValue=_useState2[0],setModeValue=_useState2[1];useEffect(function(){var allModeValues=loadAllModeValues(modeName);localStorage.setItem(modeName,JSON.stringify(_objectSpread(_objectSpread({},allModeValues),{},_defineProperty({},dayString,modeValue))));},[dayString,modeName,modeValue]);return[modeValue,setModeValue];}","map":{"version":3,"sources":["/home/mb4718/Desktop/sgamble/src/hooks/useMode.ts"],"names":["useEffect","useState","loadAllModeValues","modeName","storedModeValues","localStorage","getItem","JSON","parse","useMode","dayString","defaultValue","modeValue","setModeValue","allModeValues","setItem","stringify"],"mappings":"uVAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,QAASC,CAAAA,iBAAT,CAA2BC,QAA3B,CAAsE,CACpE,GAAMC,CAAAA,gBAAgB,CAAGC,YAAY,CAACC,OAAb,CAAqBH,QAArB,CAAzB,CACA,MAAOC,CAAAA,gBAAgB,EAAI,IAApB,CAA2BG,IAAI,CAACC,KAAL,CAAWJ,gBAAX,CAA3B,CAA0D,EAAjE,CACD,CAED,MAAO,SAASK,CAAAA,OAAT,CACLN,QADK,CAELO,SAFK,CAGLC,YAHK,CAIoC,2BACzC,cAAkCV,QAAQ,wBACxCC,iBAAiB,CAACC,QAAD,CAAjB,CAA4BO,SAA5B,CADwC,+DACEC,YADF,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAIAb,SAAS,CAAC,UAAM,CACd,GAAMc,CAAAA,aAAa,CAAGZ,iBAAiB,CAACC,QAAD,CAAvC,CACAE,YAAY,CAACU,OAAb,CACEZ,QADF,CAEEI,IAAI,CAACS,SAAL,gCACKF,aADL,wBAEGJ,SAFH,CAEeE,SAFf,GAFF,EAOD,CATQ,CASN,CAACF,SAAD,CAAYP,QAAZ,CAAsBS,SAAtB,CATM,CAAT,CAWA,MAAO,CAACA,SAAD,CAAYC,YAAZ,CAAP,CACD","sourcesContent":["import { useEffect, useState } from \"react\";\n\nfunction loadAllModeValues(modeName: string): Record<string, boolean> {\n  const storedModeValues = localStorage.getItem(modeName);\n  return storedModeValues != null ? JSON.parse(storedModeValues) : {};\n}\n\nexport function useMode(\n  modeName: string,\n  dayString: string,\n  defaultValue: boolean\n): [boolean, (modeValue: boolean) => void] {\n  const [modeValue, setModeValue] = useState<boolean>(\n    loadAllModeValues(modeName)[dayString] ?? defaultValue\n  );\n\n  useEffect(() => {\n    const allModeValues = loadAllModeValues(modeName);\n    localStorage.setItem(\n      modeName,\n      JSON.stringify({\n        ...allModeValues,\n        [dayString]: modeValue,\n      })\n    );\n  }, [dayString, modeName, modeValue]);\n\n  return [modeValue, setModeValue];\n}\n"]},"metadata":{},"sourceType":"module"}