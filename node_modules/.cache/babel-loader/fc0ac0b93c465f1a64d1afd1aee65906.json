{"ast":null,"code":"const MAX_DISTANCE_ON_EARTH = 2000000;\nconst DIRECTION_ARROWS = {\n  N: \"â¬†ï¸\",\n  NNE: \"â†—ï¸\",\n  NE: \"â†—ï¸\",\n  ENE: \"â†—ï¸\",\n  E: \"âž¡ï¸\",\n  ESE: \"â†˜ï¸\",\n  SE: \"â†˜ï¸\",\n  SSE: \"â†˜ï¸\",\n  S: \"â¬‡ï¸\",\n  SSW: \"â†™ï¸\",\n  SW: \"â†™ï¸\",\n  WSW: \"â†™ï¸\",\n  W: \"â¬…ï¸\",\n  WNW: \"â†–ï¸\",\n  NW: \"â†–ï¸\",\n  NNW: \"â†–ï¸\"\n};\nexport function getDirectionEmoji(guess) {\n  return guess.distance === 0 ? \"ðŸŽ‰\" : DIRECTION_ARROWS[guess.direction];\n}\nexport function computeProximityPercent(distance) {\n  const proximity = Math.max(MAX_DISTANCE_ON_EARTH - distance, 0); // const percent = Math.round((proximity / MAX_DISTANCE_ON_EARTH) * 100);\n\n  const percent = proximity > 10000 && distance != 0 ? 99 : Math.round(proximity / MAX_DISTANCE_ON_EARTH * 100);\n  return percent;\n}\nexport function generateSquareCharacters(proximity, theme) {\n  const characters = new Array(5);\n  const greenSquareCount = Math.floor(proximity / 20);\n  const yellowSquareCount = proximity - greenSquareCount * 20 >= 10 ? 1 : 0;\n  characters.fill(\"ðŸŸ©\", 0, greenSquareCount);\n  characters.fill(\"ðŸŸ¨\", greenSquareCount, greenSquareCount + yellowSquareCount);\n  characters.fill(theme === \"light\" ? \"â¬œ\" : \"â¬›\", greenSquareCount + yellowSquareCount);\n  return characters;\n}\nexport function formatDistance(distanceInMeters, distanceUnit) {\n  const distanceInKm = distanceInMeters / 1000; // const dist =\n\n  return distanceInMeters > 10000 ? `${Math.round(distanceInKm)}km` : `${Math.round(distanceInMeters)}m`;\n}","map":{"version":3,"sources":["/home/mb4718/Desktop/sgamble/src/domain/geography.ts"],"names":["MAX_DISTANCE_ON_EARTH","DIRECTION_ARROWS","N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","getDirectionEmoji","guess","distance","direction","computeProximityPercent","proximity","Math","max","percent","round","generateSquareCharacters","theme","characters","Array","greenSquareCount","floor","yellowSquareCount","fill","formatDistance","distanceInMeters","distanceUnit","distanceInKm"],"mappings":"AAEA,MAAMA,qBAAqB,GAAG,OAA9B;AAoBA,MAAMC,gBAA2C,GAAG;AAClDC,EAAAA,CAAC,EAAE,IAD+C;AAElDC,EAAAA,GAAG,EAAE,IAF6C;AAGlDC,EAAAA,EAAE,EAAE,IAH8C;AAIlDC,EAAAA,GAAG,EAAE,IAJ6C;AAKlDC,EAAAA,CAAC,EAAE,IAL+C;AAMlDC,EAAAA,GAAG,EAAE,IAN6C;AAOlDC,EAAAA,EAAE,EAAE,IAP8C;AAQlDC,EAAAA,GAAG,EAAE,IAR6C;AASlDC,EAAAA,CAAC,EAAE,IAT+C;AAUlDC,EAAAA,GAAG,EAAE,IAV6C;AAWlDC,EAAAA,EAAE,EAAE,IAX8C;AAYlDC,EAAAA,GAAG,EAAE,IAZ6C;AAalDC,EAAAA,CAAC,EAAE,IAb+C;AAclDC,EAAAA,GAAG,EAAE,IAd6C;AAelDC,EAAAA,EAAE,EAAE,IAf8C;AAgBlDC,EAAAA,GAAG,EAAE;AAhB6C,CAApD;AAmBA,OAAO,SAASC,iBAAT,CAA2BC,KAA3B,EAAyC;AAC9C,SAAOA,KAAK,CAACC,QAAN,KAAmB,CAAnB,GAAuB,IAAvB,GAA8BnB,gBAAgB,CAACkB,KAAK,CAACE,SAAP,CAArD;AACD;AAED,OAAO,SAASC,uBAAT,CAAiCF,QAAjC,EAA2D;AAChE,QAAMG,SAAS,GAAGC,IAAI,CAACC,GAAL,CAASzB,qBAAqB,GAAGoB,QAAjC,EAA2C,CAA3C,CAAlB,CADgE,CAEhE;;AACA,QAAMM,OAAO,GAAIH,SAAS,GAAC,KAAV,IAAmBH,QAAQ,IAAE,CAA9B,GAAmC,EAAnC,GAAwCI,IAAI,CAACG,KAAL,CAAYJ,SAAS,GAAGvB,qBAAb,GAAsC,GAAjD,CAAxD;AACA,SAAO0B,OAAP;AACD;AAED,OAAO,SAASE,wBAAT,CACLL,SADK,EAELM,KAFK,EAGK;AACV,QAAMC,UAAU,GAAG,IAAIC,KAAJ,CAAkB,CAAlB,CAAnB;AACA,QAAMC,gBAAgB,GAAGR,IAAI,CAACS,KAAL,CAAWV,SAAS,GAAG,EAAvB,CAAzB;AACA,QAAMW,iBAAiB,GAAGX,SAAS,GAAGS,gBAAgB,GAAG,EAA/B,IAAqC,EAArC,GAA0C,CAA1C,GAA8C,CAAxE;AAEAF,EAAAA,UAAU,CAACK,IAAX,CAAgB,IAAhB,EAAsB,CAAtB,EAAyBH,gBAAzB;AACAF,EAAAA,UAAU,CAACK,IAAX,CAAgB,IAAhB,EAAsBH,gBAAtB,EAAwCA,gBAAgB,GAAGE,iBAA3D;AACAJ,EAAAA,UAAU,CAACK,IAAX,CACEN,KAAK,KAAK,OAAV,GAAoB,GAApB,GAA0B,GAD5B,EAEEG,gBAAgB,GAAGE,iBAFrB;AAKA,SAAOJ,UAAP;AACD;AAED,OAAO,SAASM,cAAT,CACLC,gBADK,EAELC,YAFK,EAGL;AACA,QAAMC,YAAY,GAAGF,gBAAgB,GAAC,IAAtC,CADA,CAGA;;AAEA,SAAOA,gBAAgB,GAAG,KAAnB,GACF,GAAEb,IAAI,CAACG,KAAL,CAAWY,YAAX,CAAyB,IADzB,GAEF,GAAEf,IAAI,CAACG,KAAL,CAAWU,gBAAX,CAA6B,GAFpC;AAGD","sourcesContent":["import { Guess } from \"./guess\";\n\nconst MAX_DISTANCE_ON_EARTH = 2_000_000;\n\nexport type Direction =\n  | \"S\"\n  | \"W\"\n  | \"NNE\"\n  | \"NE\"\n  | \"ENE\"\n  | \"E\"\n  | \"ESE\"\n  | \"SE\"\n  | \"SSE\"\n  | \"SSW\"\n  | \"SW\"\n  | \"WSW\"\n  | \"WNW\"\n  | \"NW\"\n  | \"NNW\"\n  | \"N\";\n\nconst DIRECTION_ARROWS: Record<Direction, string> = {\n  N: \"â¬†ï¸\",\n  NNE: \"â†—ï¸\",\n  NE: \"â†—ï¸\",\n  ENE: \"â†—ï¸\",\n  E: \"âž¡ï¸\",\n  ESE: \"â†˜ï¸\",\n  SE: \"â†˜ï¸\",\n  SSE: \"â†˜ï¸\",\n  S: \"â¬‡ï¸\",\n  SSW: \"â†™ï¸\",\n  SW: \"â†™ï¸\",\n  WSW: \"â†™ï¸\",\n  W: \"â¬…ï¸\",\n  WNW: \"â†–ï¸\",\n  NW: \"â†–ï¸\",\n  NNW: \"â†–ï¸\",\n};\n\nexport function getDirectionEmoji(guess: Guess) {\n  return guess.distance === 0 ? \"ðŸŽ‰\" : DIRECTION_ARROWS[guess.direction];\n}\n\nexport function computeProximityPercent(distance: number): number {\n  const proximity = Math.max(MAX_DISTANCE_ON_EARTH - distance, 0);\n  // const percent = Math.round((proximity / MAX_DISTANCE_ON_EARTH) * 100);\n  const percent = (proximity>10000 && distance!=0) ? 99 : Math.round((proximity / MAX_DISTANCE_ON_EARTH) * 100);\n  return percent;\n}\n\nexport function generateSquareCharacters(\n  proximity: number,\n  theme: \"light\" | \"dark\"\n): string[] {\n  const characters = new Array<string>(5);\n  const greenSquareCount = Math.floor(proximity / 20);\n  const yellowSquareCount = proximity - greenSquareCount * 20 >= 10 ? 1 : 0;\n\n  characters.fill(\"ðŸŸ©\", 0, greenSquareCount);\n  characters.fill(\"ðŸŸ¨\", greenSquareCount, greenSquareCount + yellowSquareCount);\n  characters.fill(\n    theme === \"light\" ? \"â¬œ\" : \"â¬›\",\n    greenSquareCount + yellowSquareCount\n  );\n\n  return characters;\n}\n\nexport function formatDistance(\n  distanceInMeters: number,\n  distanceUnit: \"km\" | \"miles\"\n) {\n  const distanceInKm = distanceInMeters/1000;\n\n  // const dist =\n\n  return distanceInMeters > 10000\n    ? `${Math.round(distanceInKm)}km`\n    : `${Math.round(distanceInMeters)}m`;\n}\n"]},"metadata":{},"sourceType":"module"}