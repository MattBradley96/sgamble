{"ast":null,"code":"import _objectSpread from\"/home/mb4718/Desktop/sgamble/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/mb4718/Desktop/sgamble/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{t}from\"i18next\";import React,{useState}from\"react\";import Autosuggest from\"react-autosuggest\";import{useTranslation}from\"react-i18next\";import{countries,getCountryName,getCityName,sanitizeCountryName}from\"../domain/locs\";import{jsx as _jsx}from\"react/jsx-runtime\";export function CountryInput(_ref){var inputRef=_ref.inputRef,currentGuess=_ref.currentGuess,setCurrentGuess=_ref.setCurrentGuess;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),suggestions=_useState2[0],setSuggestions=_useState2[1];var _useTranslation=useTranslation(),i18n=_useTranslation.i18n;return/*#__PURE__*/_jsx(Autosuggest,{suggestions:suggestions,onSuggestionsFetchRequested:function onSuggestionsFetchRequested(_ref2){var value=_ref2.value;return(// setSuggestions(\n//   countries\n//     .map((c) => getCountryName(i18n.resolvedLanguage, c).toUpperCase().concat(\", \".concat(getCityName(i18n.resolvedLanguage, c).toUpperCase())))\n//     .filter((countryName) =>\n//       sanitizeCountryName(countryName).includes(\n//         sanitizeCountryName(value)\n//       )\n//     )\n// )\nsetSuggestions(countries.filter(function(c){return sanitizeCountryName(getCountryName(i18n.resolvedLanguage,c)).includes(sanitizeCountryName(value));}).concat(countries.filter(function(c){return sanitizeCountryName(getCityName(i18n.resolvedLanguage,c)).includes(sanitizeCountryName(value));})).map(function(c){return getCountryName(i18n.resolvedLanguage,c).toUpperCase();})));},onSuggestionsClearRequested:function onSuggestionsClearRequested(){return setSuggestions([]);},getSuggestionValue:function getSuggestionValue(suggestion){return suggestion;}//when clicked take the suggestion value\n,renderSuggestion:function renderSuggestion(suggestion){return/*#__PURE__*/_jsx(\"div\",{className:\"border-2 dark:bg-slate-800 dark:text-slate-100\",children:suggestion});},containerProps:{className:\"border-2 flex-auto relative\"},inputProps:{ref:inputRef,className:\"w-full dark:bg-slate-800 dark:text-slate-100\",placeholder:t(\"placeholder\"),value:currentGuess,onChange:function onChange(_e,_ref3){var newValue=_ref3.newValue;return setCurrentGuess(newValue);}},renderSuggestionsContainer:function renderSuggestionsContainer(_ref4){var containerProps=_ref4.containerProps,children=_ref4.children;return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({},containerProps),{},{className:\"\".concat(containerProps.className,\" absolute bottom-full w-full bg-white mb-1 divide-x-2 max-h-52 overflow-auto\"),children:children}));}});}","map":{"version":3,"sources":["/home/mb4718/Desktop/sgamble/src/components/CountryInput.tsx"],"names":["t","React","useState","Autosuggest","useTranslation","countries","getCountryName","getCityName","sanitizeCountryName","CountryInput","inputRef","currentGuess","setCurrentGuess","suggestions","setSuggestions","i18n","value","filter","c","resolvedLanguage","includes","concat","map","toUpperCase","suggestion","className","ref","placeholder","onChange","_e","newValue","containerProps","children"],"mappings":"mOAAA,OAASA,CAAT,KAAkB,SAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,mBAAxB,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA,OAEEC,SAFF,CAGEC,cAHF,CAIEC,WAJF,CAKEC,mBALF,KAMO,gBANP,C,2CAcA,MAAO,SAASC,CAAAA,YAAT,MAIe,IAHpBC,CAAAA,QAGoB,MAHpBA,QAGoB,CAFpBC,YAEoB,MAFpBA,YAEoB,CADpBC,eACoB,MADpBA,eACoB,CACpB,cAAsCV,QAAQ,CAAW,EAAX,CAA9C,wCAAOW,WAAP,eAAoBC,cAApB,eAEA,oBAAiBV,cAAc,EAA/B,CAAQW,IAAR,iBAAQA,IAAR,CAEA,mBACE,KAAC,WAAD,EACE,WAAW,CAAEF,WADf,CAEE,2BAA2B,CAAE,+CAAGG,CAAAA,KAAH,OAAGA,KAAH,OAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,cAAc,CACZT,SAAS,CACNY,MADH,CACU,SAACC,CAAD,QACNV,CAAAA,mBAAmB,CAACF,cAAc,CAACS,IAAI,CAACI,gBAAN,CAAwBD,CAAxB,CAAf,CAAnB,CAA8DE,QAA9D,CACEZ,mBAAmB,CAACQ,KAAD,CADrB,CADM,EADV,EAKEK,MALF,CAKShB,SAAS,CACfY,MADM,CACC,SAACC,CAAD,QACNV,CAAAA,mBAAmB,CAACD,WAAW,CAACQ,IAAI,CAACI,gBAAN,CAAwBD,CAAxB,CAAZ,CAAnB,CAA2DE,QAA3D,CACEZ,mBAAmB,CAACQ,KAAD,CADrB,CADM,EADD,CALT,EAWGM,GAXH,CAWO,SAACJ,CAAD,QAAOZ,CAAAA,cAAc,CAACS,IAAI,CAACI,gBAAN,CAAwBD,CAAxB,CAAd,CAAyCK,WAAzC,EAAP,EAXP,CADY,CAVa,GAF/B,CA2BE,2BAA2B,CAAE,6CAAMT,CAAAA,cAAc,CAAC,EAAD,CAApB,EA3B/B,CA4BE,kBAAkB,CAAE,4BAACU,UAAD,QAAgBA,CAAAA,UAAhB,EAA4B;AA5BlD,CA6BE,gBAAgB,CAAE,0BAACA,UAAD,qBAChB,YAAK,SAAS,CAAC,gDAAf,UACGA,UADH,EADgB,EA7BpB,CAkCE,cAAc,CAAE,CACdC,SAAS,CAAE,6BADG,CAlClB,CAqCE,UAAU,CAAE,CACVC,GAAG,CAAEhB,QADK,CAEVe,SAAS,CAAE,8CAFD,CAGVE,WAAW,CAAE3B,CAAC,CAAC,aAAD,CAHJ,CAIVgB,KAAK,CAAEL,YAJG,CAKViB,QAAQ,CAAE,kBAACC,EAAD,WAAOC,CAAAA,QAAP,OAAOA,QAAP,OAAsBlB,CAAAA,eAAe,CAACkB,QAAD,CAArC,EALA,CArCd,CA4CE,0BAA0B,CAAE,8CAAGC,CAAAA,cAAH,OAAGA,cAAH,CAAmBC,QAAnB,OAAmBA,QAAnB,oBAC1B,0CACMD,cADN,MAEE,SAAS,WAAKA,cAAc,CAACN,SAApB,gFAFX,UAIGO,QAJH,GAD0B,EA5C9B,EADF,CAuDD","sourcesContent":["import { t } from \"i18next\";\nimport React, { useState } from \"react\";\nimport Autosuggest from \"react-autosuggest\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Country,\n  countries,\n  getCountryName,\n  getCityName,\n  sanitizeCountryName,\n} from \"../domain/locs\";\n\ninterface CountryInputProps {\n  inputRef: React.RefObject<HTMLInputElement>;\n  currentGuess: string;\n  setCurrentGuess: (guess: string) => void;\n}\n\nexport function CountryInput({\n  inputRef,\n  currentGuess,\n  setCurrentGuess,\n}: CountryInputProps) {\n  const [suggestions, setSuggestions] = useState<string[]>([]);\n\n  const { i18n } = useTranslation();\n\n  return (\n    <Autosuggest\n      suggestions={suggestions}\n      onSuggestionsFetchRequested={({ value }) =>\n        // setSuggestions(\n        //   countries\n        //     .map((c) => getCountryName(i18n.resolvedLanguage, c).toUpperCase().concat(\", \".concat(getCityName(i18n.resolvedLanguage, c).toUpperCase())))\n        //     .filter((countryName) =>\n        //       sanitizeCountryName(countryName).includes(\n        //         sanitizeCountryName(value)\n        //       )\n        //     )\n        // )\n        setSuggestions(\n          countries\n            .filter((c:Country) =>\n              sanitizeCountryName(getCountryName(i18n.resolvedLanguage, c)).includes(\n                sanitizeCountryName(value)\n              )\n          ).concat(countries\n            .filter((c:Country) =>\n              sanitizeCountryName(getCityName(i18n.resolvedLanguage, c)).includes(\n                sanitizeCountryName(value)\n              )\n          ))\n            .map((c) => getCountryName(i18n.resolvedLanguage, c).toUpperCase())\n        )\n      }\n      onSuggestionsClearRequested={() => setSuggestions([])}\n      getSuggestionValue={(suggestion) => suggestion} //when clicked take the suggestion value\n      renderSuggestion={(suggestion) => (\n        <div className=\"border-2 dark:bg-slate-800 dark:text-slate-100\">\n          {suggestion}\n        </div>\n      )}\n      containerProps={{\n        className: \"border-2 flex-auto relative\",\n      }}\n      inputProps={{\n        ref: inputRef,\n        className: \"w-full dark:bg-slate-800 dark:text-slate-100\",\n        placeholder: t(\"placeholder\"),\n        value: currentGuess,\n        onChange: (_e, { newValue }) => setCurrentGuess(newValue),\n      }}\n      renderSuggestionsContainer={({ containerProps, children }) => (\n        <div\n          {...containerProps}\n          className={`${containerProps.className} absolute bottom-full w-full bg-white mb-1 divide-x-2 max-h-52 overflow-auto`}\n        >\n          {children}\n        </div>\n      )}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}